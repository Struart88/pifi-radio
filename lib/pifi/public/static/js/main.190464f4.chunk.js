(this.webpackJsonppifi_frontend=this.webpackJsonppifi_frontend||[]).push([[0],{21:function(e,t,a){e.exports=a(56)},26:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(19),l=a.n(s),c=(a(26),a(8)),i=a.n(c),o=a(1),u=a(2),p=a(4),m=a(3),d=a(5),f=function(e){function t(){return Object(o.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.status,t=e.playing,a=e.title;return r.a.createElement("div",{className:"text-center"},r.a.createElement("h5",{className:"small"},t?"PLAYING":"STOPPED"),r.a.createElement("h4",null,a))}}]),t}(n.Component),h=a(9),v=a.n(h);v.a.interceptors.response.use(null,(function(e){return console.log(e),Promise.reject(e)}));var y={get:v.a.get,post:v.a.post},b=a(7),g="".concat(b.b,"/player");function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=new FormData;return a.set("method",e),t&&a.set("params",t),a}function O(){return y.post(g,E("change_vol","+5"))}function j(){return y.post(g,E("change_vol","-5"))}var k=a(20),w=(a(45),function(e){function t(){return Object(o.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"getClassNames",value:function(){return"control "+(this.props.small?"px-3":"py-3 px-4 m-0")+" btn ".concat(this.props.background||"btn-dark")}},{key:"render",value:function(){var e=this.props,t=e.icon,a=e.onClick,n=Object(k.a)(e,["icon","onClick"]);return r.a.createElement("button",Object.assign({className:this.getClassNames(),onClick:a},n),r.a.createElement("i",{className:t}))}}]),t}(n.Component)),N=function(e){function t(){return Object(o.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.playing,a=e.small;return r.a.createElement(w,{icon:t?"fas fa-stop":"fas fa-play",onClick:function(){t?y.post(g,E("stop")):y.post(g,E("play"))},background:t?"btn-danger":"btn-secondary",small:a})}}]),t}(n.Component),C=(a(46),function(e){function t(){return Object(o.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"vol_disabled",value:function(){return this.props.status.vol<0}},{key:"render",value:function(){return r.a.createElement("div",{className:"player-controls"},r.a.createElement("div",{className:"btn-group"},r.a.createElement(w,{icon:"fas fa-volume-down",disabled:this.vol_disabled(),onClick:j}),r.a.createElement(w,{icon:"fas fa-volume-up",disabled:this.vol_disabled(),onClick:O}),r.a.createElement(N,{playing:this.props.status.playing})))}}]),t}(n.Component)),S=(a(47),function(){return r.a.createElement("i",{className:"down-arrow fas fa-chevron-down fa-lg pb-4"})}),_=(a(48),function(e){var t=e.playerStatus;return r.a.createElement("div",{className:"player p-4"},r.a.createElement(S,null),r.a.createElement(f,{status:t}),r.a.createElement(C,{status:t}))});a(49);var x=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={streams:{}},a.isPlaying=function(e){return e===a.props.playerStatus.title&&a.props.playerStatus.playing},a.handleItemClick=function(e){a.isPlaying(e)||(a.props.onAlert("Tunning...",e),function(e){y.post(g,E("play_radios",e))}(e))},a.getItemClasses=function(e){var t="radios__item list-group-item";return a.isPlaying(e)?t+" active":t},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e,t;return i.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,i.a.awrap(y.get("".concat(b.b,"/streams")));case 2:e=a.sent,t=e.data,this.setState({streams:t});case 5:case"end":return a.stop()}}),null,this)}},{key:"renderList",value:function(){var e=this,t=this.state.streams;return t?r.a.createElement("ul",{className:"list-group list-group-flush list-group-striped"},Object.keys(t).map((function(a){return""===t[a]?r.a.createElement("li",{className:"radios__header"},a):r.a.createElement("li",{className:e.getItemClasses(a),key:a,onClick:function(){return e.handleItemClick(a)}},a)}))):r.a.createElement("h3",null,"No streams available.")}},{key:"render",value:function(){return r.a.createElement("div",{className:"radios"},this.renderList())}}]),t}(n.Component),P=(a(50),function(e){function t(){return Object(o.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.playerStatus,t=e.title,a=e.playing;return r.a.createElement("div",{className:"mini-player p-3"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("i",{className:"fas fa-bars fa-lg my-2 mr-3"}),t),r.a.createElement("div",{className:"col-3 text-right"},r.a.createElement(N,{playing:a,small:"true"}))))}}]),t}(n.Component)),A=(a(51),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},a.handleToggle=function(e){"BUTTON"!==e.target.tagName&&a.setState({open:!a.state.open})},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"getClassNames",value:function(){return"drawer fixed-bottom bg-dark text-white"+(this.state.open?" drawer--open":"")}},{key:"render",value:function(){var e=this.props.playerStatus;return r.a.createElement("div",{className:this.getClassNames(),onClick:this.handleToggle},this.state.open?r.a.createElement(_,{playerStatus:e}):r.a.createElement(P,{playerStatus:e}))}}]),t}(n.Component)),I=(a(52),function(){return r.a.createElement("div",{className:"loader d-flex justify-content-center"},r.a.createElement("div",{className:"spinner-border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")))}),T=(a(53),function(e){var t=e.title,a=e.body,n="alert2";return n+=t?" alert2--visible":"",r.a.createElement("div",{className:n},r.a.createElement("div",{className:"alert__content"},r.a.createElement("h3",{className:"alert__title"},t),r.a.createElement("h5",{className:"alert__text"},a)))}),W=(a(54),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={playerStatus:{},loading:!0,alert:{}},a.handleWindowResize=function(){a.setState({width:window.innerWidth}),console.log(a.state.width)},a.handleAlert=function(e,t){var n={title:e,body:t};a.setState({alert:n}),setTimeout((function(){return a.setState({alert:{}})}),b.a)},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.updatePlayerStatus(),setInterval((function(){return e.updatePlayerStatus()}),b.c)}},{key:"componentWillMount",value:function(){window.addEventListener("resize",this.handleWindowResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize")}},{key:"updatePlayerStatus",value:function(){var e,t;return i.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,i.a.awrap(y.get(g));case 2:e=a.sent,t=e.data,this.setState({playerStatus:t,loading:!1});case 5:case"end":return a.stop()}}),null,this)}},{key:"render",value:function(){var e=this.state,t=e.loading,a=e.playerStatus,n=e.alert,s=e.width<=750;return t?r.a.createElement(I,null):a.con_mpd?r.a.createElement(r.a.Fragment,null,r.a.createElement(T,{title:n.title,body:n.body}),r.a.createElement("main",{className:"container"},!s&&r.a.createElement(_,{playerStatus:a}),r.a.createElement(x,{onAlert:this.handleAlert,playerStatus:a})),s&&r.a.createElement(A,{playerStatus:a})):r.a.createElement(T,{title:"Disconnected from MPD"})}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(55);l.a.render(r.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},7:function(e){e.exports=JSON.parse('{"b":"http://localhost:9292/api","c":1000,"a":2500}')}},[[21,1,2]]]);
//# sourceMappingURL=main.190464f4.chunk.js.map