(this.webpackJsonppifi_frontend=this.webpackJsonppifi_frontend||[]).push([[0],{21:function(e,t,a){e.exports=a(55)},26:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},55:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(19),c=a.n(s),i=(a(26),a(8)),l=a.n(i),o=a(1),u=a(2),p=a(4),m=a(3),f=a(5),d=function(e){function t(){return Object(o.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.status,t=e.playing,a=e.title;return r.a.createElement("div",{className:"text-center"},r.a.createElement("h5",{className:"small"},t?"PLAYING":"STOPPED"),r.a.createElement("h4",null,a))}}]),t}(n.Component),h=a(9),v=a.n(h);v.a.interceptors.response.use(null,(function(e){return console.log(e),Promise.reject(e)}));var b={get:v.a.get,post:v.a.post},y=a(7),g="".concat(y.b,"/player");function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=new FormData;return a.set("method",e),t&&a.set("params",t),a}function j(){return b.post(g,E("change_vol","+5"))}function O(){return b.post(g,E("change_vol","-5"))}var k=a(20),N=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(e){e.stopPropagation(),a.props.onClick()},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"getClassNames",value:function(){return(this.props.small?"px-3":"py-3 px-4 m-0")+" btn ".concat(this.props.background||"btn-dark")}},{key:"render",value:function(){var e=this.props,t=e.icon,a=(e.onClick,Object(k.a)(e,["icon","onClick"]));return r.a.createElement("button",Object.assign({className:this.getClassNames(),onClick:this.handleClick},a),r.a.createElement("i",{className:t}))}}]),t}(n.Component),C=function(e){function t(){return Object(o.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.playing,a=e.small;return r.a.createElement(N,{icon:t?"fas fa-stop":"fas fa-play",onClick:function(){t?b.post(g,E("stop")):b.post(g,E("play"))},background:t?"btn-danger":"btn-secondary",small:a})}}]),t}(n.Component),w=(a(45),function(e){function t(){return Object(o.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"vol_disabled",value:function(){return this.props.status.vol<0}},{key:"render",value:function(){return r.a.createElement("div",{className:"player-controls"},r.a.createElement("div",{className:"btn-group"},r.a.createElement(N,{icon:"fas fa-volume-down",disabled:this.vol_disabled(),onClick:O}),r.a.createElement(N,{icon:"fas fa-volume-up",disabled:this.vol_disabled(),onClick:j}),r.a.createElement(C,{playing:this.props.status.playing})))}}]),t}(n.Component)),_=(a(46),function(){return r.a.createElement("i",{className:"down-arrow fas fa-chevron-down fa-lg pb-4"})}),x=(a(47),function(e){var t=e.status,a=e.onClick;return r.a.createElement("div",{className:"player p-4",onClick:a},r.a.createElement(_,null),r.a.createElement(d,{status:t}),r.a.createElement(w,{status:t}))});a(48);var S=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={streams:{}},a.isPlaying=function(e){return e===a.props.status.title&&a.props.status.playing},a.handleClick=function(e){a.isPlaying(e)||(a.props.onAlert("Tunning...",e),function(e){b.post(g,E("play_radios",e))}(e))},a.getClassNames=function(e){var t="radios__item list-group-item";return a.isPlaying(e)?t+" active":t},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e,t;return l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,l.a.awrap(b.get("".concat(y.b,"/streams")));case 2:e=a.sent,t=e.data,this.setState({streams:t});case 5:case"end":return a.stop()}}),null,this)}},{key:"renderList",value:function(){var e=this,t=this.state.streams;return t?r.a.createElement("ul",{className:"list-group list-group-flush list-group-striped"},Object.keys(t).filter((function(e){return t[e]})).map((function(t){return r.a.createElement("li",{className:e.getClassNames(t),key:t,onClick:function(){return e.handleClick(t)}},t)}))):r.a.createElement("h3",null,"No streams available.")}},{key:"render",value:function(){return r.a.createElement("div",{className:"radios"},this.renderList())}}]),t}(n.Component),A=(a(49),function(e){function t(){return Object(o.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"mini-player p-3",onClick:this.props.onClick},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("i",{className:"fas fa-bars fa-lg my-2 mr-3"}),this.props.status.title),r.a.createElement("div",{className:"col-3 text-right"},r.a.createElement(C,{playing:this.props.status.playing,small:"true"}))))}}]),t}(n.Component)),P=(a(50),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"getClassNames",value:function(){return"drawer fixed-bottom bg-dark text-white"+(this.state.open?" drawer--open":"")}},{key:"render",value:function(){var e=this,t=this.props.status;return r.a.createElement("div",{className:this.getClassNames()},this.state.open?r.a.createElement(A,{status:t,onClick:function(){return e.setState({open:!0})}}):r.a.createElement(x,{status:t,onClick:function(){return e.setState({open:!1})}}))}}]),t}(n.Component)),D=(a(51),function(){return r.a.createElement("div",{className:"loader d-flex justify-content-center"},r.a.createElement("div",{className:"spinner-border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")))}),L=(a(52),function(e){var t=e.title,a=e.body,n="alert2";return n+=t?" alert2--visible":"",r.a.createElement("div",{className:n},r.a.createElement("div",{className:"alert__content"},r.a.createElement("h3",{className:"alert__title"},t),r.a.createElement("h5",{className:"alert__text"},a)))}),I=(a(53),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={status:{},loading:!0,alert:{}},a.handleAlert=function(e,t){var n={title:e,body:t};a.setState({alert:n}),setTimeout((function(){return a.setState({alert:{}})}),y.a)},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;setInterval((function(){return e.updateStatus()}),y.c)}},{key:"updateStatus",value:function(){var e,t;return l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,l.a.awrap(b.get(g));case 2:e=a.sent,t=e.data,this.setState({status:t,loading:!1});case 5:case"end":return a.stop()}}),null,this)}},{key:"render",value:function(){var e=this.state,t=e.loading,a=e.status,n=e.alert;return t?r.a.createElement(D,null):a.con_mpd?r.a.createElement(r.a.Fragment,null,r.a.createElement(L,{title:n.title,body:n.body}),r.a.createElement("main",{className:"container"},r.a.createElement(S,{onAlert:this.handleAlert,status:a})),r.a.createElement(P,{status:a})):r.a.createElement(L,{title:"Disconnected from MPD"})}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(54);c.a.render(r.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},7:function(e){e.exports=JSON.parse('{"b":"/api","c":1000,"a":2500}')}},[[21,1,2]]]);
//# sourceMappingURL=main.6674b937.chunk.js.map